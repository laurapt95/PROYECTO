HOLI ADRIANCHOOOOO!!!

Te comento, hay dos carpetas:
  - plugins/var-www-html-wpcontent-plugins-externallogin -> Referente al directorio ðŸ“ /var/www/html/wp-content/plugins/external-login
  - tools/var-www-html/ -> Referente al directorio ðŸ“ /var/www/html/tool

| Archivo / Carpeta                                  | DescripciÃ³n                                                                    | Uso                                       |
|----------------------------------------------------|--------------------------------------------------------------------------------|-------------------------------------------|
| ðŸ“ /var/www/html/tools                             |                                                                                |                                           |
| â”œâ”€â”€ asignar_coordenadas.php                        | Script que obtiene coordenadas de localidades usando OpenStreetMap (Nominatim) | Solo lectura y ejecuciÃ³n puntual          |
| ðŸ“ /var/www/html/wp-content/plugins/external-login |                                                                                |                                           |
| â”œâ”€â”€ external-login.php                             | Plugin principal: incluye login, registro, formularios, panel, mapa, etc.      | Archivo principal del plugin              |
| â”œâ”€â”€ fill_location.php                              | Reconstruye selectores de ubicaciÃ³n al editar un evento                        | Usado vÃ­a AJAX en modificaciÃ³n de eventos |
| â”œâ”€â”€ get_ccaa.php                                   | Devuelve las CCAA segÃºn el paÃ­s seleccionado                                   | AJAX en registro de eventos               |
| â”œâ”€â”€ get_provincias.php                             | Devuelve provincias segÃºn CCAA seleccionada                                    | AJAX en registro de eventos               |
| â”œâ”€â”€ get_municipios.php                             | Devuelve municipios segÃºn provincia seleccionada                               | AJAX en registro de eventos               |
| â”œâ”€â”€ get_localidades.php                            | Devuelve localidades segÃºn municipio seleccionado                              | AJAX en registro de eventos               |
| â”œâ”€â”€ get_eventos_json.php                           | Devuelve todos los eventos con coordenadas en JSON para el mapa pÃºblico        | Usado en shortcode del mapa               |


ðŸ“ Directorio tools [ /var-www-html/tools ]

â”œâ”€â”€ asignar_coordenadas.php
  Script que utiliza una API pÃºblica llamada Nominatim (basada en OpenStreetMap). Esta API permite buscar localidades por nombre 
  y devuelve sus coordenadas exactas al ejecutarlo que automÃ¡ticamente las coordenadas geogrÃ¡ficas (latitud y longitud) de cada localidad registrada 
  en la base de datos externa que tengo a wordpress.
  De este no habria que mirar nada, solo tengo que explicarlo pero te lo adjunto por si lo necesitas

ðŸ“ Directorio plugins [ /var/www/html/wp-content/plugins/external-login ]

Es donde estan todos los Â¿plugins personalizados? que tengo en la propia maquina virtual donde se aloja wordpress.
He tenido que hacerlo porque hasta donde llegue, los plugins de wordpress no conectan con una base de datos que no sea la propia de wordppres a menos
que tengas un plan de estos de pago. Asique no use plugins propios de la app sino que los tuve que crear yo.
toda la lÃ³gica (login, formularios, mapas, etc.) estÃ¡ hecha desde cero en esta carpeta.

â”œâ”€â”€ external-login.php
  El ARCHIVO. Este es el archivo principal de que comentÃ©. 

      1. [external_login_form]
            FunciÃ³n: Muestra un formulario de inicio de sesiÃ³n que valida al usuario contra una base de datos externa.
            Comportamiento: Si los datos son correctos, guarda el alias del usuario en la sesiÃ³n y redirige a /bienvenido.

      2. [verificar_login]
            FunciÃ³n: Protege pÃ¡ginas privadas.
            Comportamiento: Si el usuario no estÃ¡ autenticado (sin sesiÃ³n iniciada), lo redirige a /iniciar-sesion.

      3. [formulario_registro]
            FunciÃ³n: Muestra un formulario para registrar nuevos usuarios.
            Comportamiento: Verifica que el alias y el email no estÃ©n en uso, valida la contraseÃ±a y guarda los datos en la base de datos externa.

      4. [panel_bienvenida]
            FunciÃ³n: Muestra un panel de bienvenida personalizado con opciones.
            Comportamiento: Muestra el alias del usuario, su valoraciÃ³n media (estrellas) y accesos rÃ¡pidos a otras secciones.

      5. [cerrar_sesion]
            FunciÃ³n: Finaliza la sesiÃ³n actual.
            Comportamiento: Borra la sesiÃ³n del usuario y redirige a la pÃ¡gina principal.

      6. [configurar_cuenta]
            FunciÃ³n: Permite modificar los datos del perfil del usuario.
            Comportamiento: Muestra y actualiza el tipo de usuario, nombre, email, contraseÃ±a, etc.

      7. [formulario_registrar_evento]
            FunciÃ³n: Permite crear y registrar nuevos eventos.
            Comportamiento: El formulario incluye ubicaciÃ³n (mapa), tipo, fecha y descripciÃ³n, con dependencias dinÃ¡micas entre paÃ­s, provincia, etc.
            Nota: A este aun tengo que ponerle para que solo se puedan registrar eventos en fecha que aun no ha pasado. Tengo el codigo ya.

      8. [modificar_eventos_usuario]
            FunciÃ³n: Permite modificar o eliminar eventos creados por el usuario.
            Comportamiento: Carga los eventos futuros del usuario y permite editarlos o eliminarlos directamente.

      9. [contador_eventos]
            FunciÃ³n: Muestra un resumen de eventos registrados.
            Comportamiento: Agrupa los eventos por tipo y muestra un contador total y por categorÃ­a.
            Nota: es para un contador que tengo en la pagina principal

      10. [votar_evento]
            FunciÃ³n: Permite valorar eventos pasados de otros usuarios.
            Comportamiento: Muestra eventos ya finalizados y permite enviar una valoraciÃ³n con estrellas.

      11. [buscar_eventos_mapa]
            FunciÃ³n: Muestra todos los eventos registrados en un mapa interactivo.
            Comportamiento: Usa Leaflet.js para mostrar marcadores con detalles, ubicaciÃ³n y puntuaciÃ³n.

â”œâ”€â”€ fill_location.php
  Este archivo se encarga de reconstruir toda la cadena de ubicaciÃ³n (CCAA â†’ Provincia â†’ Municipio â†’ Localidad) a partir de un id_localidad. 
  Se utiliza cuando un usuario va a modificar un evento existente propio, para que el formulario cargue automÃ¡ticamente los selectores con 
  los valores correctos ya guardados. Devuelve los datos en formato JSON. (No se que es esto de JSON)

â”œâ”€â”€ get_eventos_json.php
  Este archivo devuelve todos los eventos futuros registrados en la base de datos que tengan coordenadas geogrÃ¡ficas (latitud y longitud).
  Los datos se devuelven en formato JSON, y se utilizan para mostrar chinchetas en el mapa del buscador pÃºblico de eventos ([buscar_eventos_mapa]).

â”œâ”€â”€ get_cca.php get_provincia, get_municipio.php localidad_cca.php (AJAX dinÃ¡micos para formularios. Tampoco se lo que es)
  Estos archivos devuelven datos en formato JSON a medida que el usuario selecciona opciones en el formulario de eventos.
    - get_cca.php -> Devuelve todas las CCAA asociadas a un paÃ­s
    - get_provincia -> Devuelve provincias de una CCAA
    - get_municipio.php -> Devuelve municipios de una provincia
    - localidad_cca.php -> Devuelve localidades de un municipio 

BASE DE DATOS eventosdb

| Tabla                   | Campos principales                                                                                                                |
| ----------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| **PAISES**              | `id_pais (PK)`, `nombre`                                                                                                          |
| **CCAA**                | `id_ccaa (PK)`, `nombre`, `id_pais (FK)`                                                                                          |
| **PROVINCIAS**          | `id_provincia (PK)`, `nombre`, `id_ccaa (FK)`                                                                                     |
| **MUNICIPIOS**          | `id_municipio (PK)`, `nombre`, `id_provincia (FK)`                                                                                |
| **LOCALIDADES**         | `id_localidad (PK)`, `nombre`, `latitud`, `longitud`, `id_municipio (FK)`                                                         |
| **USUARIOS**            | `id_usuario (PK)`, `alias`, `tipo_usuario`, `nombre`, `apellidos`, `email`, `password`                                            |
| **EVENTOS**             | `id_evento (PK)`, `nombre_evento`, `tipo_evento`, `descripcion`, `fecha_ini`, `fecha_fin`, `id_localidad (FK)`, `id_usuario (FK)` |
| **VOTACIONES\_EVENTOS** | `id_usuario (FK)`, `id_evento (FK)`, `estrellas`, `fecha_voto`                                                                    |

  







  
